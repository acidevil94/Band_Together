var first_load = true;

function init_sidebar(){
	// Funzioni per la sidebar dei filtri della ricerca sull'utente

	console.log("Ci sono");

	$('#user_musical_genre_id').change(function(){
		var select_value = $(this).val();
		$('#musical_genre_id').val(select_value);
	});

	$('#user_type_of_musician_id').change(function(){
		var select_value = $(this).val();
		$('#type_of_musician_id').val(select_value);
	});

	$('#user_nation').change(function(){
		var select_value = $(this).val();
		$('#nation').val(select_value);
	});

	$('#user_region').change(function(){
		var select_value = $(this).val();
		$('#region').val(select_value);
	});

	$('#user_city').change(function(){
		var select_value = $(this).val();
		$('#city').val(select_value);
	});

	if(!first_load)
	  	$('.slider').slider();

	$('#age').change(function(){
		var slider_value = $('#age').val();
		$('#selected_age').val(slider_value);
	});

	// Funzioni per la sidebar dei filtri della ricerca sugli ads

	$('#ads_band').change(function(){
		var select_value = $(this).val();
		$('#band_id').val(select_value);
	});

	$('#ads_musical_genre_id').change(function(){
		var select_value = $(this).val();
		$('#band_genre_id').val(select_value);
	});

	$('#ads_band_manager').change(function(){
		var select_text = $(this).val().text();
		$('#band_manager').val(select_text);
	});

	first_load = false;
} 

$(document).on("turbolinks:load", init_sidebar());

$(document).ready(function(){
	$("#ads-filters input[type='submit'], #user-filters input[type='submit'], #remove-user-filters input[type='submit']").on("click", function(){init_sidebar()});
});