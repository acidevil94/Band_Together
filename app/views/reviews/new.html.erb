<div class="col-md-4 col-md-offset-4 ">
<br/><h2> Review <%=@reviewed.username%> !</h2>

<%= form_for(@review, url: reviews_create_path , html: { method: :post }) do |f| %>

<%= render 'layouts/model_error_messages', object: @review %>
<br/>
  <div class="field">
  	<div class="rating">
	  <span id="5" class="glyphicon glyphicon-star"></span>
	  <span id="4" class="glyphicon glyphicon-star"></span>
	  <span id="3" class="glyphicon glyphicon-star"></span>
	  <span id="2" class="glyphicon glyphicon-star"></span>
	  <span id="1" class="glyphicon glyphicon-star"></span>
	</div>
  </div>

  	<script>
  		$('.rating span').click(function(){
  			
  			var boundary= $(this).attr('id');
  			for(var i=1; i<= 5; i++ ) {
  				$('#'+i).css('color', '#A9A9A9');
  			}
  			for(var i=1; i<= boundary; i++ ) {
  				
  				$('#'+i).css('color', '#FFD700');
  			}

  			document.getElementById('rating_element').value= boundary;
		});
	</script>


  <!-- rating Ã¨ un hidden element, in quanto l'untente "colora" le stelline, ma il valore
 	numerico reale del rating viene passato in maniera indiretta, in base a quante stelline ha colorato
 -->
 	<%= f.number_field :rating, type: 'hidden', class: 'form-control' , id: 'rating_element' %>
 	<%= f.number_field :reviewer_id, type: 'hidden', class: 'form-control', :value => current_user.id %>
 	<%= f.number_field :reviewed_id, type: 'hidden', class: 'form-control', :value => @reviewed.id %>
  </br><br/>
  <div class="field">
  	<%= f.label :description %>
  	<%= f.text_area :description, autofocus: true, :required => 'required', class: 'form-control'  %>
  </div>
  <br/>


  <div class="actions">
  	<%= f.submit "Send", :id => "CreateReview",:class => "btn btn-primary btn-md", data: { confirm: "Confirm review?" }%>
  </div>
<% end%>

</div>