  <%= render :partial => 'layouts/settings_sidebar' , :locals => {:currentPage => "ProfileInformations" }  %>

<div class="col-md-4 col-md-offset-3" id="SettingsMainContainer">
    <%= render 'layouts/messages' %>
  <%= form_for(:user, as: :user, url: users_update_profile_informations_path, html: {method: :post}) do |f| %>

    <div class="field">
      <%= f.label :first_name , "First name"%><br />
      <%= f.text_field :first_name , class: 'form-control' %>
    </div>

    <br/>

    <div class="field">
      <%= f.label :last_name , "Last name"%>
      <%= f.text_field :last_name , class: 'form-control' %>
    </div>

    <br/>
    <div class="field">
      <%= f.label :gender, "Gender"%>
      <%= f.select(:gender, options_for_select([["Male","M"],["Female","F"]] ), {}, {:class => 'form-control'})  %>

      </div>
      <br/>

    <div class="field">
      <%= f.label :birth , "Birth date"%>
      <%= f.date_field :birth,  class: 'form-control' ,  "data-provide" => 'datepicker' %>
    </div>

    <br>


    <div class="field">
      <%= f.hidden_field :nation %>
      <%= f.hidden_field :region %>
      <%= f.hidden_field :city %>
    </div>


    <div class="field">
      <%= f.label :nation , "Nation"%>
      <select id="countries" name="nation" class="form-control">
        <option value="" selected="">Select country</option>}
        <% CS.countries.each do |key, value| %>
          <% if @user.nation == value %>
            <% @nationKey = key %>
            <option value="<%= key %>" selected><%= value %></option>
          <% else %>
            <option value="<%= key %>"><%= value %></option>
          <% end %>
        <% end %>
      </select>

      <br/>

  <%= f.label :region , "Region"%>
      <select name="region" id="states-of-country" class="form-control">
        <% if @user.nation != nil %>
          <% CS.states(@nationKey).each do |key, value| %>
            <% if @user.region == value %>
              <% @regionKey = key %>
              <option value="<%= key %>" selected><%= value %></option>
            <% else %>
              <option value="<%= key %>"><%= value %></option>
            <% end %>
          <% end %>
        <% else %>
          <option value="" selected="">Select state/province</option>
        <% end %>
      </select>

  <br/>


  <%= f.label :city , "City"%>


  <select name="city" id="city-of-region" class="form-control">
    <% if @user.region != nil %>
      <% CS.cities(@regionKey,@nationKey).each do |value| %>
        <% if @user.city == value %>
          <option value="<%= value %>" selected><%= value %></option>
        <% else %>
          <option value="<%= value %>"><%= value %></option>
        <% end %>
      <% end %>
    <% else %>
        <option value="" selected="">Select City</option>
    <% end %>
  </select>




    </div>




    <br>

    <div class="field">
      <%= f.label :type_of_musician, "Instrument played" %>

      <%= f.select(:type_of_musician, options_for_select(
                  ["Drummer" ,["Lead Guitar", "Lead_guitarist"], ["Rhythm Guitar", "Rhythmic_guitarist"],
                  ["Bass", "Bass_guitarist"], "Keyboardist", "Singer", "Winds"] , :selected => @user.type_of_musician
              ), {} , {:class => 'form-control'})  %>

    </div>

    <br>

    <div class="field">
      <%= f.label :musical_genre, "Favourite musical genre" %>
      <%= f.select(:musical_genre, options_for_select(["Rock", "Metal", "Jazz", "Blues", "Pop", "Classic", "Latin"] , :selected => @user.musical_genre), {}, {:class => 'form-control'})  %>

    </div>
    <br>

    <div class="actions">
      <%= f.submit "Update", :id => "Update" ,class: "btn btn-primary" %>
    </div>


    <br>

  <% end %>

</div>
